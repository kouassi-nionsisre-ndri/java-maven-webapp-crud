<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Ajouter un nouveau contact</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <style>
        body {
            padding: 20px;
        }
        .btn-group {
            margin-bottom: 20px;
        }
    </style>
</h:head>
<body>
<div class="container">
    <h1 class="text-center">TD Développement Web Avancé II</h1><hr/><br/><br/>
    <div class="col-md-12 text-center">
    	<h:link outcome="index" class="btn btn-success">Retourner à l'accueil</h:link><br/><br/>
    </div>
    <div class="row pt-5 pb-5">
        <div class="col-md-6">
    		<h2 class="text-center">Ajouter un nouveau contact</h2><br/>
            <f:view>
			    <h:form>
			        <div class="form-group">
			            <label for="pays">Pays :</label>
			            <h:inputText id="pays" value="#{contactBean.pays}" class="form-control" />
			        </div>
			        <div class="form-group">
			            <label for="ville">Ville :</label>
			            <h:inputText id="ville" value="#{contactBean.ville}" class="form-control" />
			        </div>
			        <div class="form-group">
			            <label for="telephone">Téléphone :</label>
			            <h:inputText id="telephone" value="#{contactBean.telephone}" class="form-control" />
			        </div><br/>
			        <h:commandButton action="#{contactBean.ajouterNouveau}" value="Ajouter le contact" class="btn btn-primary form-control"/>
			    </h:form>
			</f:view>
        </div>
        <div class="col-md-6 text-center">
        	<h2 class="text-center">Contacts ajoutés</h2><br/>
		    <h:dataTable var="listeContacts" value="#{contactBean.listeDesContacts()}" styleClass="table table-striped"> 
				<h:column>
					<f:facet name="header"><h:outputText value="Pays"/></f:facet>
					<h:outputText value="#{listeContacts.pays}"/> 
				</h:column>
				<h:column>
					<f:facet name="header"><h:outputText value="Ville"/></f:facet>
					<h:outputText value="#{listeContacts.ville}"/> 
				</h:column>
				<h:column>
					<f:facet name="header"><h:outputText value="Téléphone"/></f:facet>
					<h:outputText value="#{listeContacts.telephone}"/> 
				</h:column>
			    <h:column>
			        <f:facet name="header"><h:outputText value="Actions"/></f:facet>
			    	<h:form>
			    		<h:inputHidden id="pays" value="#{listeContacts.id}" class="form-control" />
			        	<h:commandButton action="#{contactBean.supprimerContact(listeContacts.id)}" value="Supprimer" class="btn btn-danger" />
			        </h:form>
			    </h:column>
			</h:dataTable>
        </div>
    </div>
	<br/>
	
	
</div>
</body>
</html>
