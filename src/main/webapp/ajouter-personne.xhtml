<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Ajouter un nouveau contact</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <style>
        body {
            padding: 20px;
        }
        .btn-group {
            margin-bottom: 20px;
        }
    </style>
</h:head>
<body>
<div class="container">
    <h1 class="text-center">TD Développement Web Avancé II</h1><hr/><br/><br/>
    <div class="col-md-12 text-center">
    	<h:link outcome="index" class="btn btn-success">Retourner à l'accueil</h:link><br/><br/>
    </div>
    <div class="row pt-5 pb-5">
        <div class="col-md-6">
    		<h2 class="text-center">Ajouter une nouvelle personne</h2><br/>
            <f:view>
			    <h:form>
			        <div class="form-group">
			            <label for="nom">Nom :</label>
			            <h:inputText id="nom" value="#{personneBean.nom}" class="form-control" />
			        </div>
			        <div class="form-group">
			            <label for="prenom">Prénom(s) :</label>
			            <h:inputText id="prenom" value="#{personneBean.prenom}" class="form-control" />
			        </div>
			        <div class="form-group">
			            <label for="sexe">Sexe :</label>
			            <h:selectOneMenu id="sexe" value="#{personneBean.sexe}" class="form-control">
							<f:selectItem itemValue="M" itemLabel="Masculin"/>
							<f:selectItem itemValue="F" itemLabel="Feminin"/>
						</h:selectOneMenu>
			        </div>
			        <div class="form-group">
			            <label for="pays">Pays :</label>
			            <h:inputText id="pays" value="#{personneBean.pays}" class="form-control" />
			        </div>
			        <div class="form-group">
			            <label for="telephone">Téléphone :</label>
			            <h:inputText id="telephone" value="#{personneBean.telephone}" class="form-control" />
			        </div>
			        <div class="form-group">
			            <label for="ville">Ville :</label>
			            <h:inputText id="ville" value="#{personneBean.ville}" class="form-control" />
			        </div><br/>
			        <h:commandButton action="#{personneBean.ajouterNouveau}" value="Ajouter la personne" class="btn btn-primary form-control"/>
			    </h:form>
			</f:view>
        </div>
        <div class="col-md-6 text-center">
        	<h2 class="text-center">Personnes ajoutées</h2><br/>
		    <h:dataTable var="listePersonnes" value="#{personneBean.listeDesPersonnes()}" styleClass="table table-striped"> 
				<h:column>
					<f:facet name="header"><h:outputText value="Nom"/></f:facet>
					<h:outputText value="#{listePersonnes.nom}"/> 
				</h:column>
				<h:column>
					<f:facet name="header"><h:outputText value="Prénom"/></f:facet>
					<h:outputText value="#{listePersonnes.prenom}"/> 
				</h:column>
				<h:column>
					<f:facet name="header"><h:outputText value="Sexe"/></f:facet>
					<h:outputText value="#{listePersonnes.sexe}"/> 
				</h:column>
				<h:column>
			        <f:facet name="header"><h:outputText value="Actions"/></f:facet>
			    	<h:form>
			    		<h:inputHidden id="pays" value="#{listeContacts.id}" class="form-control" />
			        	<h:commandButton action="#{contactBean.supprimerContact(listeContacts.id)}" value="Supprimer" class="btn btn-danger" />
			        </h:form>
			    </h:column>
			</h:dataTable>
        </div>
    </div>
	<br/>
	
	
</div>
</body>
</html>
